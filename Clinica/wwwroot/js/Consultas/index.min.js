async function CreateConsultaModal(n){try{const t=await helper.postPartial("/Consultas/CreateConsultaModal",{id:n});t!=null&&$("#createConsulta").html(t).ready(function(){$("#modalCreateConsulta").modal("show")})}catch(t){console.log(t)}}async function EditConsulta(n){let t=$("#PacienteId").val(),i=$("#MedicoId").val(),r=$("#DataHora").val();if(!t||!i||!r){alert("Por favor, preencha todos os campos obrigatórios.");return}try{const u=await helper.postFormData("/Consultas/EditConsulta",{consultaId:n,pacienteId:t,medicoId:i,dataHora:r});u.status?(await ListConsulta(),$("#modalCreateConsulta").modal("hide"),alert("Consulta editada com sucesso!")):alert("Erro: "+(u.message||"Ocorreu um erro ao editar a consulta."))}catch(u){console.log(u)}}async function ListConsulta(){const n=await helper.postPartial("/Consultas/ListConsulta",{});n!=null&&$("#gridConsulta").html(n)}async function SaveConsulta(){let n=$("#NomePaciente").val(),t=$("#MedicoId").val(),i=$("#Email").val(),f=$("#DataNascimento").val(),r=$("#DataHora").val(),u=$("#ConsultaId").val()||0;if(n&&t&&i&&r){if(confirm("Deseja salvar a consulta?")){let e=u>0?"/Consultas/EditConsulta":"/Consultas/CreateConsulta";try{const o=await helper.postFormData(e,{pacienteNome:n,medicoId:t,email:i,dataNascimento:f,dataHora:r,consultaId:u});o.status?(await ListConsulta(),$("#modalCreateConsulta").modal("hide"),alert("Consulta salva com sucesso!")):alert("Ocorreu um erro: "+(o.message||"Erro ao salvar a consulta."))}catch(o){console.log(o)}}}else alert("Por favor, preencha todos os campos obrigatórios.")}async function DeleteConsulta(n){if(n&&confirm("Deseja realmente excluir esta consulta?"))try{const t=await helper.postFormData("/Consultas/DeleteConsulta",{consultaId:n});t.status?(await ListConsulta(),alert("Consulta excluída com sucesso!")):alert("Erro: "+t.message)}catch(t){console.log(t)}else alert("ID da consulta inválido.")}import{Helper}from"../Global/Helper.js";const helper=new Helper;$(document).ready(function(){ListConsulta()});window.CreateConsultaModal=CreateConsultaModal;window.EditConsulta=EditConsulta;window.SaveConsulta=SaveConsulta;window.DeleteConsulta=DeleteConsulta;